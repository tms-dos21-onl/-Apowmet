1. Установить MySQL на VM.

Установка:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/2fe9d57c-7321-4f0c-a0ff-f0b3023a1134)

Проверка статуса:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/bd56a09e-b2a1-476f-bb91-89972563c789)

2. (**) Настроить Multi-Primary репликацию для MySQL на 2 VM согласно инструкции.

3. Создать схему БД clinic и наполнить её данными используя скрипты из https://github.com/tms-dos21-onl/_sandbox/tree/main/lecture18/mysql/initdb.d/data.

Вхожу в MySQL:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/48f801a9-df3f-4941-b5cd-88d7c76e4cf1)

Создаю БД и проверяю (как потом увидел в скрипте уже было написано создание новый БД )) ):

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/62923465-ff6f-471d-afa7-a350c05e27ad)

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/7cacf40e-a221-4e16-a90e-b7643f9ccf36)

Следующие шаги делал, потому как предыдущие ДЗ еще не сделал))
Для скачивания репозитория создал SSH ключ для гита:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/bf9917f7-3027-49fd-8570-9d6a6ca0372f)

Отсюда его забрал и добавил в свой профиль на гите:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/f818e681-6c44-4ab1-a7cf-0d2ba82fd093)

Скачал репозиторий:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/ce1d17fb-7887-42a7-9a4c-bdb4f5f99a7d)

Заполняю БД (также и со вторым файлом):

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/1eb3e762-a691-43f3-9848-58e8fb475173)

Проверка заполненности БД:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/3d739b67-90ac-4b1f-bc88-05a86090c026)

4. Создать бэкап базы данных clinic.

Данной командой создаю резервную копию своей БД, которая содержит SQL-запросы для восстановления БД:

![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/e3524e18-eaa7-492d-9288-229c77de9b8b)

Такой командой можно создать сразу архив: sudo mysqldump -u root -p clinic | gzip > $HOME/backup_clinic.sql.gz

5. Написать следующие SQL запросы:
- Вывести всех врачей, работающих в терапевтическом отделении.
- Вывести в каких отделениях побывал каждый пациент.
- Обновить дату приёма для пациента Ивана Иванова на 2022-02-09.
- Удалить врача Андрея Быкова и все его приёмы.
- Добавить нового врача Фила Ричардса и новую пациентку Василису Васильеву и записать её к Филу Ричардсу на приём на 2022-02-14.

Запрос для показа всех врачей из терапевтического отделения:
```
SELECT doc.FirstName, doc.LastName, d.Name, j.Title
FROM Job AS j 
JOIN Department AS d 
ON j.Department_id = d.id
JOIN Doctor AS doc
ON j.Doctor_id = doc.id
WHERE d.Name = 'Терапевтический';
```
![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/320544f8-bbdd-4e34-bc16-f2ed9f056e37)

Отделения, где побывал каждый пациент:
```
SELECT p.FirstName, p.LastName, d.Name, r.Number
FROM Appointment AS a
JOIN Patient AS p
ON a.Patient_id = p.id
JOIN Room AS r
ON a.Room_id = r.id
JOIN Department AS d
ON r.Department_id = d.id;
```
![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/26f98dd9-6091-4371-bb03-5f1be444a5ea)

Запрос на обновление даты приема:
```
UPDATE Appointment
SET Date = '2022-02-09'
WHERE Patient_id = (
SELECT id
FROM Patient
WHERE FirstName = 'Иван'
AND LastName = 'Иванов'
);
```
![image](https://github.com/tms-dos21-onl/aleksey-ivanishchev/assets/93286236/b45172e1-099c-499c-bf90-ef76552f26a2)


6. Восстановить базу данных clinic из бэкапа и проверить, что данные соответствуют состоянию базы данных до внесенных в предыдущем задании изменений.

7. Установить MongoDB

8. Создать БД clinic и наполнить её данными используя скрипты из https://github.com/tms-dos21-onl/_sandbox/tree/main/lecture18/mongo/initdb.d.

9. Написать выборочно 3 запроса из задания 5 для MongoDB используя mongosh команды.
